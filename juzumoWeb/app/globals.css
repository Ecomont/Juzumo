@import "tailwindcss";

/* ========= 1) Design tokens (colores, tipografía, motion) ========= */
:root{
  /* Colores de marca */
  --brand-green-600: #2bb673;
  --brand-green-700: #22955e;
  --brand-ink: #0b1220;
  --brand-ink-soft: #4b5563;
  --surface: #ffffff;
  --surface-2: #faf9f6;
  --overlay-hero: 0.6; /* opacidad del overlay del hero */

  /* Tipografía y radios */
  --radius-base: 16px;
  --radius-xl: 20px;

  /* Sombras */
  --shadow-card: 0 6px 24px rgba(16,24,40,.08), 0 2px 8px rgba(16,24,40,.06);

  /* Motion tokens */
  --dur-hover: 120ms;
  --dur-ui: 220ms;
  --dur-section: 400ms;
  --dur-stagger: 80ms;
  --ease-out: cubic-bezier(.16,1,.3,1);
  --ease-inout: cubic-bezier(.45,0,.2,1);
}

/* ========= 2) Base (legibilidad, scroll, tipografía) ========= */
@layer base{
  html { color-scheme: light; }
  /* Quitamos el color aquí para no depender de neutral-* ni gray-800.
     El color base ya lo pones en <body class="text-gray-700"> */
  html, body { @apply antialiased text-[16px]; }
  a { @apply outline-none; }
  h1 { @apply text-5xl md:text-6xl font-semibold tracking-tight; }
  h2 { @apply text-3xl md:text-4xl font-semibold tracking-tight; }
  p  { @apply leading-relaxed; }

  /* Hero: ayuda de legibilidad sobre vídeo/imagen de fondo */
  .hero-overlay{
    position: relative;
  }
  .hero-overlay::after{
    content:"";
    position:absolute; inset:0;
    background:
      linear-gradient(180deg, rgba(0,0,0,var(--overlay-hero)) 0%, rgba(0,0,0,0.35) 40%, rgba(0,0,0,0) 70%)
      ,linear-gradient(90deg, rgba(0,0,0,.25) 0%, rgba(0,0,0,0) 40%, rgba(0,0,0,0) 60%, rgba(0,0,0,.25) 100%);
    pointer-events:none;
  }
}

/* ========= 3) Utilities de marca que ya usas en JSX ========= */
@layer utilities{
  .rounded-base{ border-radius: var(--radius-base); }
  .rounded-xl2{ border-radius: var(--radius-xl); }
  .shadow-card{ box-shadow: var(--shadow-card); }
  .bg-brand-green-600{ background-color: var(--brand-green-600); }
  .hover\\:bg-brand-green-700:hover{ background-color: var(--brand-green-700); }
  .text-ink{ color: var(--brand-ink); }
  .text-ink-soft{ color: var(--brand-ink-soft); }
  .duration-ui{ transition-duration: var(--dur-ui) !important; }
  .ease-motion{ transition-timing-function: var(--ease-inout) !important; }
}

/* ========= 4) Microinteracciones (hover, focus, underline) ========= */
@layer utilities{
  /* Elevación sutil para tarjetas */
  .hover-lift{
    transition: transform var(--dur-hover) var(--ease-out), box-shadow var(--dur-hover) var(--ease-out);
  }
  .hover-lift:hover{
    transform: translateY(-4px);
    box-shadow: 0 10px 30px rgba(16,24,40,.12);
  }

  /* Tilt mínimo (usa con moderación) */
  .hover-tilt{ transition: transform var(--dur-hover) var(--ease-out); transform-style: preserve-3d; }
  .hover-tilt:hover{ transform: rotate3d(.5,1,0,3deg) translateY(-2px); }

  /* Subrayado animado para enlaces de nav/footers */
  .underline-slide{
    background: linear-gradient(currentColor, currentColor) 0 100% / 0 2px no-repeat;
    transition: background-size var(--dur-hover) var(--ease-out), color var(--dur-hover) var(--ease-out);
  }
  .underline-slide:hover, .underline-slide:focus-visible{
    background-size: 100% 2px;
  }

  /* Chips (cambiamos neutral-* -> gray-*) */
  .chip{
    @apply inline-flex items-center gap-2 px-2 py-1 text-xs rounded-full bg-gray-100 text-gray-700;
    transition: transform var(--dur-hover) var(--ease-out), background-color var(--dur-hover) var(--ease-out);
  }
  .chip:hover{ transform: translateY(-1px); background-color: #f0f2f5; }
}

/* ========= 5) Animaciones de entrada (on-scroll) ========= */
@keyframes reveal-up{
  from{ opacity:0; transform: translateY(16px); }
  to  { opacity:1; transform: translateY(0); }
}
@layer utilities{
  .reveal{ opacity:0; transform: translateY(16px); will-change: transform, opacity; }
  .reveal.is-visible{ animation: reveal-up var(--dur-section) var(--ease-out) both; }

  .stagger > *{ animation-delay: calc(var(--i, 0) * var(--dur-stagger)); }

  @supports (animation-timeline: view()){
    .reveal{
      animation: reveal-up var(--dur-section) var(--ease-out) both;
      animation-timeline: view(block);
      animation-range-start: 10%;
      animation-range-end: 35%;
      opacity: 1; transform: none;
    }
  }
}

/* ========= 6) Marquee para la tira de logos (pausa al hover) ========= */
@keyframes marquee{
  from{ transform: translateX(0); }
  to  { transform: translateX(-50%); }
}
@layer utilities{
  .marquee{
    display: flex; gap: 3rem; will-change: transform;
    animation: marquee 30s linear infinite;
  }
  .marquee:hover{ animation-play-state: paused; }
  .marquee .logo:hover{ transform: scale(1.03); transition: transform var(--dur-hover) var(--ease-out); }
}

/* ========= 7) Barra de progreso de scroll (opcional) ========= */
@supports (animation-timeline: scroll()){
  .progress-scroll{
    position: fixed; inset: 0 auto auto 0; height: 3px; width: 0;
    background: var(--brand-green-600); z-index: 50;
    animation: grow linear both;
    animation-timeline: scroll(root block);
    animation-range: 0 100%;
  }
  @keyframes grow{ to{ width: 100%; } }
}

/* ========= 8) WhatsApp FAB (consistencia con CTA) ========= */
@layer components{
  .fab-whatsapp{
    position: fixed; right: 20px; bottom: 20px; z-index: 60;
    background: var(--brand-green-600); color: white;
    padding: 14px 16px; border-radius: 9999px; box-shadow: var(--shadow-card);
    transition: transform var(--dur-hover) var(--ease-out), background var(--dur-hover) var(--ease-out);
  }
  .fab-whatsapp:hover{ transform: translateY(-2px); background: var(--brand-green-700); }
}

/* ========= 9) Estados de navegación (clases para JS) ========= */
@layer components{
  .nav{ transition: transform var(--dur-ui) var(--ease-inout), background-color var(--dur-ui) var(--ease-inout); }
  .nav--hidden{ transform: translateY(-100%); }
  .nav--solid{ background: rgba(255,255,255,.85); backdrop-filter: saturate(180%) blur(8px); }
}

/* ========= 10) Accesibilidad / Reduced motion ========= */
@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important; scroll-behavior: auto !important; }
}

/* ========= 11) Cruce logos ========= */
@layer components{
  /* Logo del hero (grande) */
  .logo-hero{
    opacity: 1;
    transform: scale(1);
    transition: opacity var(--dur-ui) var(--ease-inout), transform var(--dur-ui) var(--ease-inout);
    will-change: opacity, transform;
  }
  /* Logo del nav (pequeño) */
  .logo-nav{
    opacity: 0;
    transform: translateY(-4px);
    pointer-events: none;
    transition: opacity var(--dur-ui) var(--ease-inout), transform var(--dur-ui) var(--ease-inout);
    will-change: opacity, transform;
  }
  /* Estado compacto: lo activa el Header via .nav-compact en <html> */
  .nav-compact .logo-hero{
    opacity: 0;
    transform: scale(.96);
    pointer-events: none;
  }
  .nav-compact .logo-nav{
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }
  /* Convierte /img/logo.svg a blanco sobre el hero (si no tienes versión blanca) */
  .logo-white{
    filter: invert(1) brightness(100%);
  }
}
